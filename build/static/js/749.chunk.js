"use strict";(self.webpackChunkexodus_crm=self.webpackChunkexodus_crm||[]).push([[749],{1749:function(e,a,s){s.r(a);var l=s(9439),n=s(7313),t=s(6192),c=s(507),o=s(8645),i=s(8741),r=s(4491),d=s(6417);a.default=function(){var e=(0,t.O8)().data,a=(0,t.Ul)().data,s=(0,t.r8)(),u=(0,l.Z)(s,1)[0],x=n.useState([]),g=(0,l.Z)(x,2),m=g[0],f=g[1],p=n.useState([]),h=(0,l.Z)(p,2),b=h[0],v=h[1];n.useEffect((function(){v(void 0!==a?a:[])}),[a]),n.useEffect((function(){f(void 0!==e?e:[])}),[e]);return(0,d.jsxs)("div",{children:[0===b.length?null:(0,d.jsxs)("div",{className:"mb-4",children:["Change geo",(0,d.jsxs)("select",{onChange:function(e){!function(e){if(e.target.value.length){var a=e.target.options[e.target.selectedIndex].text;window.confirm("Do you want to change domain for ".concat(a," geo?"))?u(e.target.value).then((function(e){void 0===e.error?r.Am.success("Domain changed"):r.Am.error(e.error.data.detail)})):e.preventDefault()}}(e)},className:"text-black block mt-1 min-w-[110px]",children:[(0,d.jsx)("option",{value:"",children:"---"}),b.map((function(e){return(0,d.jsx)("option",{value:e.id,children:e.name},"change_geo_".concat(e.id))}))]})]}),0===m.length?(0,d.jsx)(c.Z,{}):(0,d.jsx)("div",{className:"flex flex-col gap-4",children:m.map((function(e){return(0,d.jsxs)(o.Z,{children:[(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)(i.Z,{id:"domain_".concat(e.id),label:"Domain",readOnly:"readonly",value:e.domain,type:"text",className:"flex-grow",inputClassName:"bg-[#666]"}),(0,d.jsx)(i.Z,{id:"ip_".concat(e.id),label:"IP",readOnly:"readonly",value:e.ip,type:"text",className:"flex-grow",inputClassName:"bg-[#666]"})]}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)(i.Z,{id:"registrator_".concat(e.id),label:"Registrator",readOnly:"readonly",value:e.registrator,type:"text",className:"flex-grow",inputClassName:"bg-[#666]"}),(0,d.jsx)(i.Z,{id:"vds_service_".concat(e.id),label:"VDS service",readOnly:"readonly",value:e.vds_service,type:"text",className:"flex-grow",inputClassName:"bg-[#666]"})]}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsx)(i.Z,{id:"additional_info_".concat(e.id),label:"Additional info",readOnly:"readonly",value:e.additional_info,type:"text",className:"flex-grow",inputClassName:"bg-[#666]"}),(0,d.jsx)(i.Z,{id:"status_".concat(e.id),label:"Status",readOnly:"readonly",value:e.status,type:"text",className:"flex-grow",inputClassName:"bg-[#666]"})]}),(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsxs)("div",{className:"flex-grow w-[50%] mb-4",children:["Allowed geo",0===e.allowed_geo.length?(0,d.jsx)("span",{className:"block body-2 text-gray",children:"No allowed geos"}):e.allowed_geo.map((function(a){return(0,d.jsx)("span",{className:"block body-2 text-gray",children:a.name},"allowed_geo_".concat(e.id,"_").concat(a.id))}))]}),(0,d.jsxs)("div",{className:"flex-grow w-[50%] mb-4",children:["Banned geo",0===e.banned_geo.length?(0,d.jsx)("span",{className:"block body-2 text-gray",children:"No bannned geos"}):e.banned_geo.map((function(a){return(0,d.jsx)("span",{className:"block body-2 text-gray",children:a.name},"allowed_geo_".concat(e.id,"_").concat(a.id))}))]})]}),null===e.current_geo?null:(0,d.jsxs)("div",{className:"flex gap-4",children:[(0,d.jsxs)("div",{className:"flex-grow w-[50%]",children:["Current GEO",(0,d.jsxs)("span",{className:"block body-2 text-gray",children:["GEO: ",e.current_geo.name]})]}),(0,d.jsxs)("div",{className:"flex-grow w-[50%]",children:["Check results",(0,d.jsx)("span",{className:"flex gap-1.5",children:Object.entries(e.current_geo.task_check_statuses).map((function(a){var s=(0,l.Z)(a,2),n=s[0],t=s[1];return(0,d.jsx)("span",{title:n,className:"cursor-pointer w-4 h-4 rounded-full "+(t.status?"bg-successEasy":"bg-dangerEasy")},"task_check_statuses_".concat(e.id,"_").concat(n))}))})]})]})]},"domains-list-item-".concat(e.id))}))})]})}}}]);